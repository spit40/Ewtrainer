<!doctype html>
<html>
<head>
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>East/West Trainer</title>
<style>
body{margin:0;background:#000;height:100vh;display:flex;justify-content:center;align-items:center;color:#fff;font-family:sans-serif}
#c{width:90vmin;height:90vmin;border:4px solid #666;border-radius:50%;position:relative}
#arrow{position:absolute;left:50%;top:50%;width:1vmin;height:38vmin;background:#fff;opacity:.6;transform-origin:50% 90%}
#p{position:absolute;bottom:6%;left:50%;transform:translateX(-50%);font-size:10vmin;font-weight:600}
</style>
</head>
<body>
<div id="c">
  <div id="arrow"></div>
  <div id="p">?</div>
</div>
<script>
let max=15,ready=false,ang=0,cur="";
const d=["East","West"],
a=document.getElementById("arrow"),
p=document.getElementById("p"),
c=document.getElementById("c");

function newRound(){
 cur=d[Math.random()*2|0];
 p.textContent=cur;
 ang=(Math.random()<.5?-1:1)*max;
 a.style.transform=`translate(-50%,-85%) rotate(${ang}deg)`;
 ready=true;
 if(max<160)max+=3;
}

function pick(e){
 if(!ready)return;
 ready=false;
 const r=c.getBoundingClientRect(),
 cx=r.left+r.width/2,
 cy=r.top+r.width/2;
 const dx=e.clientX-cx,dy=e.clientY-cy;
 let tapAng=(Math.atan2(dy,dx)*180/Math.PI+90+360)%360;
 let off=(cur==="East"?90:270);
 let tAng=(ang+off+360)%360;
 let hit=(tapAng>=45&&tapAng<135)?"R":
         (tapAng>=225&&tapAng<315)?"L":"";
 let exp=(tAng>=45&&tAng<135)?"R":
         (tAng>=225&&tAng<315)?"L":"";
 p.style.color=hit===exp?"#0f0":"#f00";
 setTimeout(()=>{p.style.color="#fff";newRound()},400);
}

c.addEventListener("click",pick);
c.addEventListener("touchstart",e=>pick(e.touches[0]),{passive:true});
newRound();
</script>
</body>
</html>
